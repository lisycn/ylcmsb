<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.yuanlai.wpnos.ylcmsb.dao.PubDictDao">	<!--配置一个resultMap 指定返回的类型 -->      <resultMap id="dict" type="com.yuanlai.wpnos.ylcmsb.entity.Dict">        <result column="dict_id" 		property="dict_id"  />        <result column="parent_id"      property="parent_id"/>        <result column="dict_code" 		property="dict_code"/>        <result column="dict_value" 	property="dict_value"/>        <result column="dict_name" 	    property="dict_name"/>        <result column="abr" 	    	property="abr"		/>        <result column="hlp" 	    	property="hlp"		/>        <result column="seq_num" 		property="seq_num"	/>       	<result column="dict_level" 	property="dict_level"/>        <result column="status" 		property="status"	/>    </resultMap>  <sql id="pageHeader" >    <choose >        <when test="_databaseId == 'mysql'" />        <otherwise >            <if test="start != null and end != null" >                select * from (select a.*, rownum rn from (            </if>        </otherwise>    </choose>  </sql>  <sql id="pageFooter" >    <choose >        <when test="_databaseId == 'mysql'" >            <if test="start != null and limit != null" >                limit ${start}, ${limit}            </if>        </when>        <otherwise >            <if test="start != null and end != null" >                ) a where rownum &lt;= #{end}) where rn &gt;= #{start}            </if>        </otherwise>    </choose>  </sql>    <sql id="countListHeader" >    <if test="countList == 'countList' " >        select count(1) total from (    </if>  </sql>  <sql id="countListFooter" >    <if test="countList == 'countList' " >        )countList    </if>  </sql>		<select id="selectList" resultMap="dict" parameterType="com.yuanlai.wpnos.ylcmsb.entity.Dict"> 		SELECT * FROM DICT  		WHERE STATUS = '1' 		ORDER BY PARENT_ID,DICT_LEVEL, (SEQ_NUM+0) ASC limit 100000	</select>		<select id="countEntity" resultMap="dict" resultType="java.lang.Integer">		SELECT COUNT(*) FROM DICT		<where>			<if test="dict_code != null and dict_code != ''">				AND DICT_CODE = #{dict_code}			</if>			<if test="dict_name != null and dict_name != ''">				AND DICT_NAME LIKE #{dict_name}||'%'			</if>			<if test="parent_id != null and parent_id != ''">				AND PARENT_ID = #{parent_id}			</if>		</where>	</select>		<select id="selectPageList" parameterType="java.util.HashMap" resultMap="dict">		  SELECT * FROM ( 		     SELECT PAGE_SUB.*,ROWNUM AS RN FROM ( 	        	SELECT * FROM ( 	        	    SELECT        	                T1.DICT_ID,					    T1.PARENT_ID,					    T1.DICT_CODE,					    T1.DICT_VALUE,					    T1.DICT_NAME,					    T1.ABR,					    T1.HLP,					    T1.SEQ_NUM,					    T1.DICT_LEVEL,					    T1.STATUS                        FROM                            DICT T1                         <where>						<if test="dict_code != null and dict_code != ''">							AND T1.DICT_CODE = #{dict_code}						</if>						<if test="dict_name != null and dict_name != ''">							AND T1.DICT_NAME LIKE #{dict_name}||'%'						</if>					</where>	        	    ) ORDER BY DICT_ID ASC	            )PAGE_SUB	        ) WHERE RN BETWEEN #{start} AND #{end} 	</select>		<select id="selectEntity" parameterType="com.yuanlai.wpnos.ylcmsb.entity.Dict" resultMap="dict">		SELECT 	     	T1.DICT_ID,		    T1.PARENT_ID,		    T1.DICT_CODE,		    T1.DICT_VALUE,		    T1.DICT_NAME,		    T1.ABR,		    T1.HLP,		    T1.SEQ_NUM,		    T1.DICT_LEVEL,		    T1.STATUS		FROM 		    DICT T1		<where>			<if test="1==1">				T1.STATUS = '1' 			</if>			<if test="dict_id != null and dict_id != ''">				AND T1.DICT_ID = #{dict_id}			</if>			<if test="dict_code != null and dict_code != ''">				AND T1.DICT_CODE LIKE #{dict_code}||'%'			</if>			<if test="dict_name != null and dict_name != ''">				AND T1.DICT_NAME LIKE #{dict_name}||'%'			</if>		</where>	</select>		<insert id="insertEntity" parameterType="com.yuanlai.wpnos.ylcmsb.entity.Dict">		INSERT INTO DICT  (            DICT_ID,		    PARENT_ID,		    DICT_CODE,		    DICT_VALUE,		    DICT_NAME,		    ABR,		    HLP,		    SEQ_NUM,		    DICT_LEVEL,		    STATUS)        VALUES (            	#{dict_id},            	#{parent_id},           	#{dict_code},           	#{dict_value,jdbcType=VARCHAR},            	#{dict_name},            	#{abr,jdbcType=VARCHAR},           	#{hlp,jdbcType=VARCHAR},            	#{seq_num},           	#{dict_level},           	#{status})	</insert>		<update id="updateEntity" parameterType="com.yuanlai.wpnos.ylcmsb.entity.Dict" >	     UPDATE DICT         	SET DICT_NAME  = #{dict_name},                DICT_VALUE = #{dict_value} 		<where>			<if test="dict_id != null and dict_id != ''">				DICT_ID = #{dict_id}			</if>		</where>  	</update>		  <!-- *******begain add by liuyanwei 以下为运营管理系统中的码表管理需要用的 -->  <select id="selectDictList" resultType="java.util.Map" parameterType="java.util.Map">    select DICT_ID,PARENT_ID,DICT_CODE,DICT_NAME,DICT_VALUE,DICT_LEVEL,STATUS,ABR     from DICT          <where>      <if test ="dictName == null" >         and DICT_LEVEL='1'       </if>            <if test ="dictCode != null" >         and DICT_CODE like CONCAT('%',#{dictCode,jdbcType=VARCHAR},'%')           </if>               <if test ="dictName != null" >         and DICT_NAME like CONCAT('%',#{dictName,jdbcType=VARCHAR},'%')           </if>        and DICT_CODE !='AREA_CODE'       </where>     </select>  <select id="selectDictListCount" resultType="int" parameterType="java.util.Map">    select count(DICT_ID) from DICT	  <where>      <if test ="dictName == null" >         and DICT_LEVEL='1'       </if>      <if test ="dictCode != null" >         and DICT_CODE like CONCAT('%',#{dictCode,jdbcType=VARCHAR},'%')           </if>           <if test ="dictName != null" >         and DICT_NAME like CONCAT('%',#{dictName,jdbcType=VARCHAR},'%')           </if>        and DICT_CODE !='AREA_CODE'	  </where>  </select>      <select id="selectDictsList" resultType="java.util.Map" parameterType="java.util.Map" >    select DICT_ID,PARENT_ID,DICT_CODE,DICT_NAME,DICT_VALUE,DICT_LEVEL,STATUS,ABR from DICT       <where>      <if test ="dictCode == null and dictName == null" >         and DICT_LEVEL!='1'      </if>      <if test ="dictCode != null or dictName != null" >         and DICT_LEVEL!='1'      </if>       and DICT_CODE !='AREA_CODE'                  </where>  </select>     <update id="updatePubDictInf" parameterType="java.util.Map"  >    update DICT    <set >      <if test="dict_name != null and dict_name.trim().length() != 0" >        DICT_NAME = #{dict_name,jdbcType=VARCHAR},      </if>      <if test="dict_value != null and dict_value.trim().length() != 0" >        DICT_VALUE = #{dict_value,jdbcType=VARCHAR},      </if>      <if test="dict_abr != null and dict_abr.trim().length() != 0" >        ABR = #{dict_abr,jdbcType=VARCHAR},      </if>    </set>    where DICT_ID = #{dict_id,jdbcType=VARCHAR}  </update>  	<select id="selectPubDictByCode_upd" resultType="int"   parameterType="java.util.Map" > 		SELECT COUNT(DICT_ID) 		  FROM DICT  		<where>		    <if test="1==1">				STATUS = '1' 			</if>				AND DICT_LEVEL='1' AND DICT_CODE = #{dict_code,jdbcType=VARCHAR} 				AND DICT_ID != #{dict_id,jdbcType=VARCHAR} 		</where>	</select>    	<select id="selectPubDictByCodeValue_upd" resultType="int"   parameterType="java.util.Map" > 		SELECT COUNT(DICT_ID) 		  FROM DICT  		<where>		    <if test="1==1">				STATUS = '1' 			</if>				AND DICT_LEVEL!='1' AND DICT_CODE = #{dict_code,jdbcType=VARCHAR} 				AND DICT_VALUE = #{dict_value,jdbcType=VARCHAR} 				AND DICT_ID != #{dict_id,jdbcType=VARCHAR} 		</where>	</select> 			<select id="selectPubDictByCodeName_upd" resultType="int"   parameterType="java.util.Map" > 		SELECT COUNT(DICT_ID) 		  FROM DICT  		<where>		    <if test="1==1">				STATUS = '1' 			</if>				AND DICT_LEVEL!='1' AND DICT_CODE = #{dict_code,jdbcType=VARCHAR} 				AND DICT_NAME = #{dict_name,jdbcType=VARCHAR} 				AND DICT_ID != #{dict_id,jdbcType=VARCHAR} 		</where>	</select>     <insert id="addPubDictInf" parameterType="java.util.Map">		INSERT INTO DICT  (            DICT_ID,		    PARENT_ID,		    DICT_CODE,		    DICT_VALUE,		    DICT_NAME,		    ABR,		    SEQ_NUM,		    DICT_LEVEL,		    STATUS)        VALUES (            	#{dict_id},            	#{parent_id},           	#{dict_code},           	#{dict_value,jdbcType=VARCHAR},            	#{dict_name,jdbcType=VARCHAR},            	#{abr,jdbcType=VARCHAR},           	#{seq_num},           	#{dict_level},           	#{status})	</insert>	<select id="selectPubDictByDictIdMax" resultType="int" > 		SELECT MAX(DICT_ID) 		  FROM DICT  		 WHERE STATUS = '1'	</select> 	<select id="selectPubDictBySeqNumMax" resultType="int"   parameterType="java.lang.String" > 		SELECT MAX(SEQ_NUM)  		  FROM DICT  		<where>		    <if test="1==1">				STATUS = '1' 			</if>				AND PARENT_ID = #{_parameter,jdbcType=VARCHAR}		</where>	</select>		<select id="selectPubDictBySeqNumCount" resultType="int"   parameterType="java.lang.String" > 		SELECT COUNT(DICT_ID) AS NUMS 		  FROM DICT  		<where>		    <if test="1==1">				STATUS = '1' 			</if>				AND PARENT_ID = #{_parameter,jdbcType=VARCHAR}		</where>	</select> 	<select id="selectPubDictByCode" resultType="int"   parameterType="java.lang.String" > 		SELECT COUNT(DICT_ID) 		  FROM DICT  		<where>		    <if test="1==1">				STATUS = '1' 			</if>				AND DICT_LEVEL='1' AND DICT_CODE = #{_parameter,jdbcType=VARCHAR} 		</where>	</select>    	<select id="selectPubDictByCodeValue" resultType="int"   parameterType="java.util.Map" > 		SELECT COUNT(DICT_ID) 		  FROM DICT  		<where>		    <if test="1==1">				STATUS = '1' 			</if>				AND DICT_LEVEL!='1' AND DICT_CODE = #{dict_code,jdbcType=VARCHAR} 				AND DICT_VALUE = #{dict_value,jdbcType=VARCHAR} 		</where>	</select>			<select id="selectPubDictByCodeName" resultType="int"   parameterType="java.util.Map" > 		SELECT COUNT(DICT_ID) 		  FROM DICT  		<where>		    <if test="1==1">				STATUS = '1' 			</if>				AND DICT_LEVEL!='1' AND DICT_CODE = #{dict_code,jdbcType=VARCHAR} 				AND DICT_NAME = #{dict_name,jdbcType=VARCHAR} 		</where>	</select>	  <select id="delQryDictListCount" resultType="int" parameterType="java.lang.String">    select count(DICT_ID) from DICT        where  DICT_LEVEL!='1' and  PARENT_ID=#{_parameter,jdbcType=VARCHAR}  </select>  <select id="delQryDictList" resultType="java.util.Map" parameterType="java.lang.String">    select DICT_ID,PARENT_ID,DICT_CODE,DICT_NAME,DICT_VALUE,DICT_LEVEL,STATUS,ABR from DICT        where  DICT_LEVEL!='1' and  PARENT_ID=#{_parameter,jdbcType=VARCHAR}  </select>  <select id="delQryDictAllChildListCount" resultType="int" parameterType="java.lang.String">    select count(DICT_ID) from DICT        where  DICT_LEVEL!='1' and DICT_CODE !='AREA_CODE' and  DICT_CODE=#{_parameter,jdbcType=VARCHAR}  </select>   <select id="delQryDictAllChildList" resultType="java.util.Map" parameterType="java.lang.String">    select DICT_ID,PARENT_ID,DICT_CODE,DICT_NAME,DICT_VALUE,DICT_LEVEL,STATUS,ABR from DICT        where  DICT_LEVEL!='1' and DICT_CODE !='AREA_CODE' and  DICT_CODE=#{_parameter,jdbcType=VARCHAR}    LIMIT 10000  </select>	  	  <delete id="deleteById"   parameterType="java.lang.String" >	    delete from DICT	    where DICT_ID = #{_parameter,jdbcType=VARCHAR}	  </delete>	   	  <delete id="deleteByParentId"    parameterType="java.lang.String" >	    delete from DICT	    where PARENT_ID = #{_parameter,jdbcType=VARCHAR}	  </delete> 	  	   <update id="updateStatusById"   parameterType="java.util.Map" >	    update DICT	    <set >	      <if test="status != null and status.trim().length() != 0" >	        STATUS = #{status,jdbcType=VARCHAR},	      </if>	    </set>	    where DICT_ID = #{dict_id,jdbcType=VARCHAR}	  </update>  	  	   <update id="updateStatusByParentId"   parameterType="java.util.Map"  >	    update DICT	    <set >	      <if test="status != null and status.trim().length() != 0" >	        STATUS = #{status,jdbcType=VARCHAR},	      </if>	    </set>	    where PARENT_ID = #{dict_id,jdbcType=VARCHAR}	    	  </update>	  	  		</mapper>